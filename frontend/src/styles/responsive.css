/* Apply smooth transitions to all elements for theme changes */
* {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms; /* Adjust duration as needed */
}

/* Mobile responsive styles */

/* Base responsive adjustments */
* {
  box-sizing: border-box;
}

html, body {
  overflow-x: hidden;
  position: relative;
  width: 100%;
}

/* Small screens (phones) */
@media screen and (max-width: 640px) {
  /* General spacing */
  .px-4 {
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
  }
  
  /* Header adjustments */
  .space-x-2 {
    margin-left: 0.25rem !important;
  }
  
  /* Contest grid */
  .grid-cols-\[auto_repeat\(4\,minmax\(0\,1fr\)\)\] {
    grid-template-columns: 1fr !important;
    gap: 0 !important;
  }
  
  /* Visual separation between contests */
  [class*="ContestGrid"] > div > div {
    margin-bottom: 1.5rem;
    background-color: #ffffff;
    border-radius: 0.5rem;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }
  
  /* Dark mode contest cards */
  .dark [class*="ContestGrid"] > div > div {
    background-color: rgba(31, 41, 55, 0.7);
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3);
  }
  
  /* Contest title - make it more prominent */
  [class*="ContestRow"] > div:first-child {
    background-color: #f3f4f6 !important;
    border-bottom: 2px solid rgba(156, 163, 175, 0.3) !important;
    font-weight: 600 !important;
  }
  
  .dark [class*="ContestRow"] > div:first-child {
    background-color: rgba(55, 65, 81, 0.8) !important;
    border-bottom: 2px solid rgba(75, 85, 99, 0.5) !important;
  }
  
  /* Problem cells on mobile - add spacing between and clear distinction */
  [class*="ProblemStatusCell"] {
    margin: 0.5rem 0.75rem !important;
    border-radius: 0.375rem !important;
    border: 1px solid rgba(156, 163, 175, 0.2) !important;
  }
  
  /* Improved dark mode green for solved problems on mobile */
  .dark [class*="ProblemStatusCell"].bg-emerald-900\/20 {
    background-color: rgba(6, 42, 32, 0.35) !important; /* Darker, richer green background */
    border-color: rgba(10, 64, 48, 0.45) !important; 
    box-shadow: inset 0 0 4px rgba(16, 185, 129, 0.1), 0 1px 2px rgba(0, 0, 0, 0.1) !important; /* Add subtle inner glow */
  }
  
  /* Improved mobile solved status badge */
  .dark .bg-emerald-900\/60 {
    background-color: rgba(4, 58, 40, 0.6) !important;
  }
  
  .dark .text-emerald-100 {
    color: #d1fae5 !important; /* Brighten the text for better contrast */
  }
  
  .dark [class*="ProblemStatusCell"].bg-green-900\/30 {
    background-color: rgba(5, 66, 49, 0.25) !important;
    border-color: rgba(5, 66, 49, 0.4) !important;
  }
  
  /* Last problem cell in a contest */
  [class*="ContestRow"] > [class*="ProblemStatusCell"]:last-child {
    margin-bottom: 1rem !important;
  }
  
  /* Problem cells on mobile */
  [class*="ProblemCell"], [class*="ProblemStatusCell"] {
    border-top: 1px solid rgba(156, 163, 175, 0.2) !important;
    border-bottom: none !important;
  }
  
  /* Search bar adjustments */
  input[type="text"] {
    font-size: 14px !important;
    padding: 0.5rem 2.5rem !important;
  }
  
  /* Fix search metadata layout */
  [class*="SearchMetadata"] > div {
    flex-direction: column !important;
    align-items: flex-start !important;
  }
  
  [class*="SearchMetadata"] > div > div:last-child {
    margin-top: 0.5rem;
    margin-left: 0 !important;
  }
  
  /* Login card skeleton responsive adjustments */
  .max-w-md {
    max-width: 90% !important;
    padding: 1rem !important;
  }
}

/* Medium screens (tablets) */
@media screen and (min-width: 641px) and (max-width: 768px) {
  .grid-cols-\[auto_repeat\(4\,minmax\(0\,1fr\)\)\] {
    grid-template-columns: auto repeat(2, minmax(0, 1fr)) !important;
  }
  
  [class*="ContestRow"] {
    display: contents;
  }
  
  /* Show first two problems per row */
  [class*="ContestRow"] > div:nth-child(n+4) {
    display: none;
  }
}
